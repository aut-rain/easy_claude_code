# Claude Skills 完整开发者教程：从概念到实践

## 目录
- [一、功能概述：Claude Skills 是什么？](#一功能概述claude-skills-是什么)
  - [1.1 技能包概念：让 Claude 从通用到专用的"升级"](#11-技能包概念让-claude-从通用到专用的升级)
  - [1.2 核心价值：为什么需要 Skills？](#12-核心价值为什么需要-skills)
  - [1.3 技术原理：渐进式披露加载](#13-技术原理渐进式披露加载)
- [二、使用场景：Skills 在开发中的典型应用](#二使用场景skills-在开发中的典型应用)
  - [2.1 代码审查与质量保证](#21-代码审查与质量保证)
  - [2.2 文档生成与处理](#22-文档生成与处理)
  - [2.3 数据分析与报表生成](#23-数据分析与报表生成)
  - [2.4 UI/UX 设计与原型制作](#24-uiux-设计与原型制作)
  - [2.5 集成第三方服务与自动化工作流](#25-集成第三方服务与自动化工作流)
- [三、操作步骤：从零创建自定义 Skill](#三操作步骤从零创建自定义-skill)
  - [3.1 第一步：明确技能目标](#31-第一步明确技能目标)
  - [3.2 第二步：创建技能目录结构](#32-第二步创建技能目录结构)
  - [3.3 第三步：编写 SKILL.md 文件](#33-第三步编写-skillmd-文件)
  - [3.4 第四步：添加支持资源（可选）](#34-第四步添加支持资源可选)
  - [3.5 第五步：打包与上传技能](#35-第五步打包与上传技能)
  - [3.6 第六步：测试与验证技能](#36-第六步测试与验证技能)
  - [3.7 第七步：持续迭代与维护](#37-第七步持续迭代与维护)
- [四、高级技巧：打造高质量 Skill 的艺术](#四高级技巧打造高质量-skill-的艺术)
  - [4.1 编写有效的描述：让 Claude 自动发现技能](#41-编写有效的描述让-claude-自动发现技能)
  - [4.2 渐进式披露：优化上下文使用](#42-渐进式披露优化上下文使用)
  - [4.3 结构化指令与工作流](#43-结构化指令与工作流)
  - [4.4 测试与调试技巧](#44-测试与调试技巧)
  - [4.5 权限与安全考量](#45-权限与安全考量)
- [五、与其他工具的集成：Skills 的生态扩展](#五与其他工具的集成skills-的生态扩展)
  - [5.1 Skills vs. 插件/MCP：职责划分与协同工作](#51-skills-vs-插件mcp职责划分与协同工作)
  - [5.2 与 Claude 生态工具的集成](#52-与-claude-生态工具的集成)
  - [5.3 社区与开源：Skills 生态的繁荣](#53-社区与开源skills-生态的繁荣)
- [六、总结：打造属于你的 Claude 专家](#六总结打造属于你的-claude-专家)

---

## 一、功能概述：Claude Skills 是什么？

Claude Skills 是 Anthropic 为 Claude 推出的一项功能，旨在让开发者能够以模块化的方式扩展 Claude 的能力。简单来说，一个 Skill（技能）就是一个包含指令、脚本和资源的文件夹，Claude 可以在需要时动态发现并加载这些技能，以完成特定的任务。开发者可以将 Skills 视为给 Claude 准备的"入职指南"或"专业工具包"，通过它，Claude 能够从通用助手变身为各领域的专业能手。

### 1.1 技能包概念：让 Claude 从通用到专用的"升级"

Claude Skills 本质上是领域专用知识包。与传统的提示词（Prompt）不同，Skills 将程序性知识（如操作流程、行业规范、工具使用方法）打包成 Claude 可复用的资源。这使得 Claude 不再依赖用户每次手动输入冗长的指令，而是能够在对话中自动识别并应用相关的技能，从而大幅提升效率。

**核心特性**：

- **可组合性**：Skills 可以像积木一样堆叠使用。Claude 能够同时激活多个技能，让它们协同完成复杂的多步骤任务。例如，开发者可以让 Claude 先调用"数据库查询"技能获取数据，再使用"数据分析"技能处理数据，最后用"报告生成"技能输出结果，整个过程无需人工干预。
- **可移植性**：一次构建，处处运行。一个 Skill 可以在 Claude 的网页版、Claude Code 命令行工具以及 Claude API 等多个平台间无缝移植使用，无需任何修改。这确保了开发者所构建的技能资产能够在不同环境中复用。
- **高效性**：Skills 采用"渐进式披露"的加载机制。Claude 只在对话开始时加载每个技能的元数据（名称和简短描述），仅当用户请求与某个技能的描述匹配时，才会加载该技能的详细内容和相关资源。这种按需加载策略避免了上下文窗口过载，使 Claude 能够高效地管理大量技能而不会影响性能。
- **强大性**：Skills 支持包含可执行的代码脚本（如 Python、Bash），用于处理那些纯语言生成难以可靠完成的任务。通过代码，Skills 可以执行精确的逻辑操作，例如调用外部 API、处理复杂的数据转换或生成格式严格的文档，从而将 Claude 的推理能力与确定性计算结合起来。

### 1.2 核心价值：为什么需要 Skills？

Claude Skills 的出现解决了 AI 助手在实际应用中面临的一些关键痛点：

- **上下文过载与信息冗余**：直接将大量指令塞进每次对话的上下文会占用宝贵的 token 预算，甚至导致上下文窗口被填满。Skills 通过分层加载解决了这个问题——只在真正需要时才加载详细指令和资源，避免了无关信息占用上下文。这就像给 Claude 一个按需翻阅的"手册"，而不是一次性塞给它一整本书。
- **知识与流程的固化**：许多开发任务（如代码审查、文档生成、数据分析）都有一套标准化的流程和最佳实践。通过 Skills，开发者可以将这些流程固化下来，让 Claude 始终按照既定标准执行，而不必每次都从头解释。这有助于保持团队输出的一致性，并减少因人为疏忽导致的错误。
- **跨场景复用**：Skills 是可移植的模块。开发者可以将一个项目中经过验证的技能轻松应用到另一个项目，无需重复开发。这种复用性显著提高了开发效率，并促进了知识和经验在不同项目之间的共享。

### 1.3 技术原理：渐进式披露加载

Claude Skills 的核心设计理念是"渐进式披露"（Progressive Disclosure），其架构通过**元工具架构 + 分层加载**来实现高效的知识注入。

**三层加载机制**：

**图解：Claude Skills 的三层加载机制**

1. **第一层（启动时）**：Claude 加载每个技能的元数据（名称和描述）到上下文中。这一层非常轻量，通常只消耗几十个 token，不会影响对话性能，但让 Claude 初步了解有哪些技能可用。
2. **第二层（触发时）**：当用户的请求与某个技能的描述匹配时，Claude 会加载该技能的 SKILL.md 文件主体。这一层包含了技能的核心能力描述、使用流程和常见陷阱等，大约消耗几千个 token。此时 Claude 真正"学会"了如何执行该任务。
3. **第三层（深度需要时）**：如果任务需要更详细的信息，Claude 会按需加载技能目录中的其他文件，如脚本代码、参考文档或示例数据。这些资源仅在任务真正用到时才被读取，实现了无限扩展的可能，而不会因为文件数量多而拖慢对话。

这种渐进式加载带来了显著的性能优势。据 Anthropic 官方介绍，在代码重构等任务中，使用 Skills 的方案相比传统每次加载全部指令的方式可以节省约 47% 的 token 消耗；在多文件修改场景下节省约 51% 的 token。这意味着 Skills 不仅让 Claude 更聪明，也让它更"精简"，能够处理更复杂的任务而不耗尽上下文。

---

## 二、使用场景：Skills 在开发中的典型应用

Claude Skills 作为一种可扩展的机制，几乎适用于开发者日常工作中的各个方面。以下是一些典型的高频使用场景，以及 Skills 如何在这些场景中发挥作用：

### 2.1 代码审查与质量保证

代码审查是开发流程中既耗时又重要的环节。Claude Skills 可以显著提升这一环节的效率和质量。

**技能示例：代码审查助手**
这个技能包含团队定制的代码审查标准和检查清单。当开发者发起代码审查请求时，Claude 会自动加载该技能，根据团队规范对代码进行全面的检查，包括命名规范、注释完整性、潜在 Bug 检测、性能和安全建议等。开发者甚至可以让 Claude 按照技能中的检查清单逐项审查，并在完成时输出一份结构化的审查报告。

**实际效果**：有开发者分享，使用此类代码审查技能后，原本需要 1 小时的审查工作缩短到了 5 分钟。Skills 帮助团队将审查标准固化下来，避免了人工疏忽，并确保每次审查都遵循相同的高标准。

### 2.2 文档生成与处理

编写和维护文档是开发工作的一部分，但往往繁琐且容易出错。Claude Skills 能够让文档工作变得既高效又专业。

**技能示例：产品需求文档 (PRD) 生成器**
许多公司对 PRD 的格式、结构和内容有明确要求。通过一个 PRD 生成技能，开发者可以让 Claude 始终按照公司的模板来生成需求文档。该技能包含模板文件、写作指南以及公司内部使用的术语和定义。当开发者输入产品想法时，Claude 会自动调用 PRD 技能，产出结构清晰、符合规范的文档初稿。

Skills 也涵盖**文档处理**领域。Anthropic 官方提供了多个文档处理相关的技能，例如处理 PDF、Word、PowerPoint、Excel 文档的技能。这些技能能够让 Claude 执行诸如提取 PDF 表单字段、生成包含公司品牌风格的幻灯片、填写复杂表格等任务，无需开发者具备专业的文档处理知识。通过 Skills，Claude 可以成为团队的"文档专家"，自动完成文档的创建、编辑和格式调整工作。

### 2.3 数据分析与报表生成

对于需要频繁处理数据的团队（如数据分析、市场营销、产品运营），Claude Skills 可以显著降低数据分析的门槛并提高报表生成的效率。

**技能示例：数据分析助手**
这个技能封装了团队使用的数据分析方法、常用查询语句以及报表模板。当开发者上传数据并提出分析请求时，Claude 会自动应用数据分析技能，按照既定步骤对数据进行清洗、分析和可视化。它甚至可以调用内置的 Python 脚本生成图表，或将结果直接导出为 Excel 报表。开发者无需每次都重复解释如何分析数据，Claude 会像训练有素的数据分析师一样工作。

### 2.4 UI/UX 设计与原型制作

对于非设计背景的开发者来说，创建美观且符合品牌规范的 UI 是一大挑战。Claude Skills 可以在设计和原型制作方面提供巨大帮助。

**技能示例：前端设计助手**
这个技能包含公司的设计规范（颜色、字体、组件样式）以及常用 UI 组件的代码模板。当开发者需要创建新的页面或调整界面时，Claude 会自动加载前端设计技能，遵循品牌指南生成符合规范的代码或样式。技能甚至可以内置前端框架的最佳实践，让 Claude 生成易于维护且响应良好的界面代码。

通过这类技能，开发者可以快速产出高质量的 UI 原型，用于内部评审或向团队展示想法。有开发者反馈，使用前端设计技能后，原本需要反复调整的界面工作可以在一次交互中接近完成，大大节省了时间。

### 2.5 集成第三方服务与自动化工作流

Claude Skills 不仅可以指导 Claude 完成本地任务，还可以将其能力扩展到第三方服务，实现工作流的自动化。

**技能示例：Stripe 支付集成助手**
这个技能封装了将 Stripe 支付集成到应用所需的标准流程、最佳实践和常见陷阱规避方案。技能中包含了 Stripe API 的认证方式、创建支付会话的代码片段、处理 Webhook 的流程等。当开发者需要实现支付功能时，Claude 会调用该技能，按照安全可靠的方式生成代码和配置，避免开发者重复查阅 Stripe 文档或因不熟悉流程而出错。

类似的技能可以用于其他第三方服务（例如邮件发送、数据库操作、云服务部署等），让 Claude 成为连接不同工具的"胶水"，自动化整个工作流程。这种能力对于需要频繁集成外部服务的团队尤其有价值，可以显著减少学习成本和出错概率。

---

## 三、操作步骤：从零创建自定义 Skill

了解了 Claude Skills 的强大之后，接下来我们通过一个实际案例，手把手地演示如何从零开始创建一个自定义 Skill。本教程将以一个简单实用的"代码提交信息生成器"为例，引导读者完成从构思、编码到测试上线的全过程。

### 3.1 第一步：明确技能目标

在动手之前，首先需要明确这个 Skill 要解决的问题以及预期的使用场景。一个好的 Skill 应当针对一个具体、明确的需求，并且有可衡量的成功标准。

**案例目标**：我们希望创建一个 Skill，让 Claude 能够根据代码变更自动生成符合**Conventional Commits**规范的提交信息。Conventional Commits 是一种广泛采用的提交信息格式规范，要求提交信息以特定的前缀（如 `feat:`、`fix:`）开头，简洁地描述变更类型和内容。我们的目标是让 Claude 在开发者提交代码时，自动分析变更并生成符合该规范的提交信息草稿。

**预期效果**：当开发者发起代码提交请求时，Claude 会自动调用"代码提交信息生成器"技能，根据变更的类型和内容，输出格式规范的提交信息。这将帮助团队保持提交历史的清晰和一致性，并减少人工编写提交信息时的错误或遗漏。

### 3.2 第二步：创建技能目录结构

每个 Skill 本质上是一个文件夹，Claude 通过文件夹中的 SKILL.md 文件来识别技能。开发者可以在本地创建一个文件夹，作为技能的根目录。

**步骤**：

1. **创建技能文件夹**：在本地新建一个文件夹，例如命名为 `git-commit-message`。这个文件夹名称将作为技能的唯一标识，建议使用小写字母和连字符，不含特殊字符。
2. **添加必要文件**：在该文件夹下创建一个名为 `SKILL.md` 的文件。这是技能的**必须**文件，用于描述技能的功能和指令。文件名必须严格区分大小写，确保使用 `SKILL.md`（全大写）而非其他变体。
3. **（可选）添加支持文件**：根据技能复杂度，可以在文件夹下创建子文件夹，如 `resources/`、`scripts/` 等，用于存放辅助资源（如模板、参考文档、可执行脚本）。本例中，我们暂时不需要这些文件，因为提交信息生成主要依赖指令即可完成。

*提示*：良好的目录结构有助于技能的可维护性。即使暂时不需要额外文件，预留一个清晰的文件夹结构也是值得的，以便将来扩展。

### 3.3 第三步：编写 SKILL.md 文件

SKILL.md 文件是技能的核心，它包含两个部分：顶部的 YAML 前置元数据（Frontmatter）和紧随其后的 Markdown 指令内容。YAML 前置元数据用于描述技能的基本信息，而 Markdown 内容则告诉 Claude 在激活技能时应执行的具体步骤。

**SKILL.md 结构概览**：

**YAML 前置元数据**：

SKILL.md 文件必须以 `---` 标记开始和结束，中间是 YAML 格式的键值对。最基础的两个必填字段是：

- `name`：技能的唯一标识名称，必须使用小写字母、数字和连字符，不能以连字符开头或结尾，且不能包含 XML 标签或保留字（如 "anthropic"、"claude"）。本例中我们取名为 `git-commit-message`。
- `description`：技能的功能描述，最多 1024 个字符，必须非空且不能包含 XML 标签。这个字段非常重要，因为 Claude 使用它来决定何时激活该技能。描述应当具体地说明技能用途以及触发它的关键词或场景。例如，我们可以这样描述：`Generate conventional commit messages from git diffs. Use when user mentions commits, git, version control, or requests help with commit messages.`。这个描述明确了技能功能（生成提交信息）以及触发场景（当用户提及 commit、git、版本控制或请求帮助编写提交信息时）。

除了这两个必填字段，开发者还可以根据需要添加可选字段，例如 `version`（技能版本号）或 `allowed-tools`（限制技能可用的工具列表）等，以提供更多信息或约束。

**Markdown 指令内容**：

在 YAML 前置元数据之后，是 Markdown 格式的指令正文。这部分内容 Claude 会在技能被激活时读取，并据此执行任务。编写指令时应遵循清晰、步骤化的原则，就像在指导一位新同事一样。

针对"代码提交信息生成器"，我们的指令可以这样设计：

- **概述**：首先给出一个简短的概述，说明这个技能的用途。例如："本技能用于根据代码变更自动生成符合 Conventional Commits 规范的提交信息。"
- **触发条件**：明确在何种情况下应使用本技能。例如："当用户请求生成提交信息、提及 commit、git 或版本控制，或者需要帮助编写 commit message 时，激活本技能。"
- **执行步骤**：列出 Claude 应遵循的步骤。例如：
  1. 分析用户提供的代码变更（diff 或描述）。
  2. 识别变更的类型（是新增功能、修复 Bug、还是其他变更）。
  3. 根据 Conventional Commits 规范选择合适的前缀（`feat:`、`fix:`、`docs:`、`style:`、`refactor:`、`perf:`、`test:`、`chore:` 等）。
  4. 将变更内容精炼为简洁的描述，附在所选前缀后，格式为 `<type>: <description>`。
  5. （可选）如果有必要，添加更详细的正文或引用相关 issue 编号。
- **示例**：提供一个或多个示例，展示期望的输出格式。例如：
  - **示例 1**：假设变更内容是"新增用户登录功能"，则输出应为 `feat: add user login functionality`。
  - **示例 2**：假设变更内容是"修复导航栏显示问题"，则输出应为 `fix: correct navigation bar display issue`。
- **约束和提示**：提醒 Claude 注意的事项。例如："确保生成的提交信息不超过 72 字符，以保持 Git 历史整洁。"或"如果用户没有提供具体的变更内容，先询问变更详情再生成提交信息。"

通过上述结构化的指令，Claude 在需要生成提交信息时，会按照我们定义的步骤和格式，产出符合团队规范的提交信息草稿。

*技巧*：编写 SKILL.md 时，建议使用清晰的 Markdown 结构（如标题、列表）和具体的示例，以提高 Claude 对指令的理解和执行准确性。同时，保持指令简洁而全面，既不过度冗长也不遗漏关键步骤。

### 3.4 第四步：添加支持资源（可选）

如果技能需要额外的支持资源（例如模板文件、参考文档、代码脚本等），可以在技能目录下创建相应文件夹，并在 SKILL.md 中引用它们。

在"代码提交信息生成器"这个简单案例中，我们并不依赖额外的资源即可完成任务。然而，为了演示，我们假设有一个 `resources/` 文件夹，里面存放了一份团队内部的提交规范文档 `CONVENTIONAL_COMMITS_GUIDE.md`，以及一个 Python 脚本 `scripts/parse_diff.py` 用于解析代码变更。

**目录结构示例**：
```markdown

git-commit-message/
├── SKILL.md
├── resources/
│ └── CONVENTIONAL_COMMITS_GUIDE.md
└── scripts/
└── parse_diff.py

```
在 SKILL.md 中，我们可以这样引用这些资源：
```markdown

## 参考
- 请参考 [resources/CONVENTIONAL_COMMITS_GUIDE.md](https://chatglm.cn/main/resources/CONVENTIONAL_COMMITS_GUIDE.md) 以获取团队定制的提交规范细节。
## 工具使用
- 如需解析代码变更的 diff，可运行脚本：`python scripts/parse_diff.py`。

```
通过这种结构，Claude 在需要时可以读取外部文档获取更详细的规范，或调用脚本执行特定任务。这种**渐进式披露**方式确保了只有在真正需要时才加载相关文件，从而保持上下文整洁。

案例如下

```markdown
---
name: git-commit-message
description: Generate conventional commit messages from git diffs. Use when user mentions commits, git, version control, or requests help with commit messages.
version: 1.0.0
---

## 概述：
本技能用于根据代码变更自动生成符合 Conventional Commits 规范的提交信息。
## 触发条件：
当用户请求生成提交信息、提及 commit、git 或版本控制，或者需要帮助编写 commit message 时，激活本技能。
## 执行步骤：
1. 分析用户提供的代码变更（diff 或描述）。
2. 识别变更的类型（是新增功能、修复 Bug、还是其他变更）。
3. 根据 Conventional Commits 规范选择合适的前缀（`feat:`、`fix:`、`docs:`、`style:`、`refactor:`、`perf:`、`test:`、`chore:` 等）。
4. 将变更内容精炼为简洁的描述，附在所选前缀后，格式为 `<type>: <description>`。
## 示例：
- **示例 1**：假设变更内容是"新增用户登录功能"，则输出应为 `feat: add user login functionality`。
- **示例 2**：假设变更内容是"修复导航栏显示问题"，则输出应为 `fix: correct navigation bar display issue`。
## 约束和提示：
确保生成的提交信息不超过 72 字符，以保持 Git 历史整洁以及如果用户没有提供具体的变更内容，先询问变更详情再生成提交信息。
## 参考
- 请参考 [resources/CONVENTIONAL_COMMITS_GUIDE.md](./resources/CONVENTIONAL_COMMITS_GUIDE.md) 以获取团队定制的提交规范细节。
## 工具使用
- 如需解析代码变更的 diff，可运行脚本：`python scripts/parse_diff.py`。
```



### 3.5 第五步：打包与上传技能

完成技能的开发后，下一步是将其打包并上传到 Claude 的环境中，使其可以被 Claude 调用。根据使用 Claude 的方式（网页版、Claude Code 命令行或 API），上传方法略有不同。

**方法一：Claude Code 命令行**（适用于 Claude Code 开发环境）：

1. **复制技能目录**：将本地的 `git-commit-message` 文件夹复制到 Claude Code 的技能目录。根据技能的适用范围，可以选择以下任一位置：
   - **个人技能**：复制到 `~/.claude/skills/` 目录，使其在当前用户的任何项目中都可用。
   - **项目技能**：复制到项目根目录下的 `.claude/skills/` 目录，使其仅在该项目内可用。这样便于团队共享技能。
2. **自动发现**：Claude Code 会自动发现上述目录下的技能文件夹，并在对话启动时加载它们的元数据。无需任何额外配置，技能即可开始工作。

**方法二：Claude.ai 网页版**（适用于 Claude Chat 网页应用）：

1. **打包为 ZIP**：在本地将技能文件夹（例如 `git-commit-message`）及其内容压缩为一个 ZIP 文件。确保 ZIP 的根目录下直接包含 `SKILL.md`，而不是嵌套在另一个文件夹内。
2. **上传技能**：登录 Claude.ai，进入 **Settings** > **Capabilities**，找到 **Skills** 部分。点击上传按钮，将刚才的 ZIP 文件上传。请注意，上传自定义技能通常需要付费的 Claude 计划（Pro、Max、Team 或 Enterprise）以及启用代码执行权限。
3. **确认启用**：上传成功后，技能会出现在已安装技能列表中。开发者可以选择启用或禁用它。一旦启用，Claude 在后续对话中即可调用该技能。

**方法三：Claude API**（适用于将 Claude 集成到自有应用或服务）：

1. **调用 Skills API**：Anthropic 提供了专门的 Skills API 端点，用于管理自定义技能。开发者可以通过发送 POST 请求将技能上传到自己的工作区。例如：
```bash

curl -X POST “https://api.anthropic.com/v1/skills”
	-H “x-api-key: $ANTHROPIC_API_KEY”
	-H “anthropic-version: 2023-06-01”
	-H “anthropic-beta: skills-2025-10-02”
	-F “display_title=Git Commit Message Generator”
	-F “files[]=@git-commit-message/SKILL.md;filename=git-commit-message/SKILL.md”
	-F “files[]=@git-commit-message/resources/CONVENTIONAL_COMMITS_GUIDE.md;filename=git-commit-message/resources/CONVENTIONAL_COMMITS_GUIDE.md”
	-F “files[]=@git-commit-message/scripts/parse_diff.py;filename=git-commit-message/scripts/parse_diff.py”

```
上述命令将技能文件夹中的多个文件上传，并返回一个技能 ID（如 `skill_01AbCdEfGhIjKlMnOpQrStUv`）。开发者需要记录这个 ID，以便后续在 Messages API 中引用该技能。

2. **在 Messages API 中使用技能**：在调用 Claude 的 Messages API 时，通过 `container` 参数指定要使用的技能。例如：
```json

{
	“model”: “claude-sonnet-4-5-20250929”,
	“max_tokens”: 1024,
	“container”: {
		“type”: “custom”,
		“skill_id”: “skill_01AbCdEfGhIjKlMnOpQrStUv”
	},
	“messages”: [
		{“role”: “user”, “content”: “I just fixed a navigation bar bug. Please generate a commit message.”}
	]
}

```
在这个请求中，我们通过 `container` 指定了技能类型为 `custom`（自定义技能），并提供技能 ID。Claude 会据此加载对应的技能，并按照 SKILL.md 中的指令生成提交信息。

*注意*：使用 API 集成技能时，开发者需要确保在请求中启用了必要的 Beta 功能头（如 `skills-2025-10-02`）和代码执行工具。此外，Claude 也提供了技能版本管理 API，以便在更新技能时创建新版本，逐步推进而不会影响现有调用。

### 3.6 第六步：测试与验证技能

技能上传完成后，关键的一步是进行充分的测试与验证，以确保其在真实场景中按预期工作。

**测试方法**：

- **功能测试**：模拟用户请求，验证技能是否在正确的情况下被激活，并产出符合预期的结果。例如，我们可以模拟一次代码提交请求："I just fixed a navigation bar bug. Please generate a commit message."，然后观察 Claude 是否调用了我们的技能，并输出了类似 `fix: correct navigation bar display issue` 的结果。
- **边界情况测试**：提供一些不完整或模糊的输入，测试技能的健壮性。例如："Generate a commit message."（未提供具体变更内容）。我们期望 Claude 在这种情况下，要么输出一个通用提交信息，要么先询问用户变更详情，而不是产生错误或无意义的输出。
- **错误情况测试**：故意提供一些极端或错误的输入，看技能是否能优雅处理。例如：让技能处理一个非常长的提交说明，或包含特殊字符的内容。确保技能不会崩溃，并且在必要时能够提示用户修正输入。

**调试技巧**：

- **观察日志**：在 Claude Code 中，可以启用调试模式来查看技能的加载和激活情况。例如，在启动命令后添加 --debug来启动 Claude `claude --debug`，可以输出详细的技能匹配和激活日志，帮助我们了解技能是否被正确识别。
- **逐步验证**：如果技能包含多个步骤或脚本，可以分步验证。例如，先确认 Claude 正确解析了代码变更，再确认它选择了正确的前缀，最后确认最终输出格式。这有助于定位问题所在。
- **迭代修正**：根据测试结果，不断修正 SKILL.md 指令或相关资源。例如，如果发现 Claude 经常将某类变更识别为错误类型，可以在指令中添加更多描述或示例来纠正这一模式。

<img src=".\img\测试Claude Code是否调用Skill.png" alt="测试Claude Code是否调用Skill" style="zoom: 33%;" />

<img src=".\img\Claude Code调用Skill情况.png" alt="Claude Code调用Skill情况" style="zoom: 33%;" />

经过充分的测试验证后，我们才能确信技能在实际生产环境中能够可靠地工作。

### 3.7 第七步：持续迭代与维护

一个优秀的 Skill 不是一次写完就一劳永逸的，它需要根据实际使用情况和团队反馈进行持续的迭代和维护。

**收集反馈**：鼓励团队成员在使用技能时提供反馈。例如，他们是否发现生成的提交信息有时不符合规范？是否有新的变更类型需要支持？这些反馈都是宝贵的改进机会。

**版本管理**：当需要更新技能时，建议使用版本管理。一种做法是在 SKILL.md 中维护一个版本号，并在更新时递增版本。对于 API 用户，Anthropic 提供了技能版本管理 API，可以上传新版本的技能，而旧版本仍然可用，以便平滑过渡。

**文档完善**：随着时间推移，团队可能制定了新的提交规范或最佳实践。应及时将这些更新融入到技能中，例如更新 `resources/CONVENTIONAL_COMMITS_GUIDE.md` 文档，或在 SKILL.md 中添加新的示例和提示。

通过持续的迭代维护，Skills 可以不断进化，成为团队知识库的重要组成部分，确保 Claude 始终按照最新的标准和规范工作。

---

## 四、高级技巧：打造高质量 Skill 的艺术

掌握基础的创建流程后，我们接下来探讨一些高级技巧和最佳实践，帮助开发者打造更高效、可靠的 Claude Skills。

### 4.1 编写有效的描述：让 Claude 自动发现技能

SKILL.md 中的 `description` 字段是 Claude 决定何时激活技能的关键依据。编写一个有效的描述需要技巧，以下是一些指导原则：

- **具体明确**：避免模糊的描述，如"帮助处理文档"。具体说明技能的用途，例如"从 PDF 文件中提取文本和表格、填充表单、合并文档。在处理 PDF 文件或用户提及 PDF、表单或文档提取时使用"。这样的描述包含了具体功能（提取、合并、填充）和触发关键词（PDF、表单、文档提取），大大提高了 Claude 正确触发技能的概率。
- **包含触发关键词**：将用户可能使用的自然语言短语直接写入描述。例如，如果技能与生成报告有关，描述可以写"在用户要求生成报告、汇总数据或制作文档时使用"。这样当用户说"生成报告"时，Claude 更容易联想到该技能。
- **避免冲突**：确保每个技能的描述有足够的区分度，避免多个技能描述雷同导致 Claude 难以抉择。例如，不要同时创建两个描述都为"帮助处理文档"的技能，而应细分职责，如一个负责 PDF，另一个负责 Word，以便 Claude 根据用户请求类型准确选择。
- **简洁但完整**：描述应简洁，但要涵盖所有关键触发场景。Anthropic 建议描述长度在 100~200 字符之间，既提供了足够信息又不至于冗长。在有限字符内，尽量包含主要功能词和触发词，以最大化自动发现率。

通过精心雕琢描述字段，开发者可以大幅提升技能被自动发现和调用的概率，减少手动干预的需要。

### 4.2 渐进式披露：优化上下文使用

渐进式披露是 Claude Skills 的一大优势，它确保 Claude 只在需要时才读取详细内容，从而保持对话上下文的高效。开发者在设计技能时，应充分利用这一机制来组织内容。

- **主 SKILL.md 简洁**：将 SKILL.md 的正文内容限制在必要的步骤和说明上，避免将大量细节全部写在这个文件中。正如前文所述，Claude 在对话启动时只读取每个技能的元数据，只有当用户请求相关时才加载 SKILL.md 本体。因此，保持 SKILL.md 精简可以减少不必要的上下文占用。
- **使用辅助文件**：对于更详细的信息，如图表、长篇参考文档、代码示例等，应放在技能目录下的辅助文件中，并在 SKILL.md 中引用。例如，可以创建一个 `REFERENCE.md` 文件存放 API 参考手册，然后在 SKILL.md 中写道："需要详细 API 参考时，请参阅 [REFERENCE.md](REFERENCE.md)"。这样，只有当 Claude 真的需要查看 API 手册时，才会读取该文件。
- **避免嵌套引用**：Claude 在读取辅助文件时，可能只会读取文件的一部分（例如使用 `head -n` 命令预览）。因此，应避免在辅助文件中再引用其他文件，形成深层嵌套。所有需要 Claude 理解的信息最好直接从 SKILL.md 或一级辅助文件中获取，以确保完整性。
- **目录结构清晰**：一个结构良好的技能目录有助于 Claude 快速定位信息。例如，对于有多个子领域的技能，可以按领域拆分辅助文件，如 `reference/finance.md`、`reference/sales.md` 等，让 Claude 只加载相关领域的信息。

通过遵循渐进式披露原则，开发者可以构建出既能提供丰富指导，又不会拖慢对话性能的高质量技能。

### 4.3 结构化指令与工作流

编写 SKILL.md 的指令部分时，采用结构化的方式能够显著提升 Claude 的执行效率和输出质量。

- **使用清晰的标题**：将指令按照逻辑模块划分，使用 Markdown 标题（如 `##`、`###`）对每个模块进行标记。例如："## 工作流程"、"## 示例"、"## 注意事项"。这样 Claude 可以快速定位指令中的不同部分，提高阅读效率。
- **步骤化描述**：对于复杂任务，尽量将其分解为一系列步骤，并在指令中明确写出。例如，在代码审查技能中，可以列出审查的步骤：检查代码风格、检查逻辑错误、检查安全漏洞等。Claude 会按照这些步骤逐一执行，不会遗漏。
- **使用列表和表格**：当有多个并列选项或清单时，使用列表或表格来组织。例如，提交规范可以以列表形式列出各种提交类型及其含义，让 Claude 在生成提交信息时对照选择。表格则适用于对比不同选项或提供多个示例，清晰易读。
- **提供示例**：示例是 Claude 理解任务的最佳方式之一。在指令中提供多个示例，涵盖不同场景。例如，在文档生成技能中，可以提供一个简洁的示例输出和一个详细的示例输出，让 Claude 根据输入长度选择合适模板。
- **明确边界**：在指令中明确技能的**边界**，即技能不做什么以及如何处理超出范围的情况。例如："本技能不处理代码合并请求，仅适用于单个提交的提交信息生成。如果遇到合并请求，请提示用户提供合并描述或请求人工处理。"这种边界说明可以避免 Claude 在超出技能设计范围时强行执行，从而保证输出质量。

通过结构化的指令设计，开发者可以确保 Claude 以一种可预测、可重复的方式执行任务，减少输出的随机性，并提升结果的一致性。

### 4.4 测试与调试技巧

正如前文提到的，充分的测试和调试对于打造高质量技能至关重要。这里再补充一些高级的调试技巧：

- **使用 `allowed-tools` 限制**：在 SKILL.md 的 YAML 前置元数据中，可以使用 `allowed-tools` 字段限制技能可使用的工具。例如，如果技能不需要读取外部文件，可以设置 `allowed-tools: ["Read", "Write"]`，禁止其使用 Bash 或网络工具。这不仅出于安全考虑，也可以在技能误触发时减少可能的破坏范围，帮助调试问题根源。
- **模拟对话流**：在测试时，可以模拟一个完整的对话流，包括用户的初始请求、Claude 的响应以及可能的追问。这有助于发现技能在多轮对话中的表现，例如是否会在中途因为上下文不足而失败，或者是否在需要时主动加载辅助文件。
- **监控 Token 使用**：在调试过程中，留意对话的 token 使用情况。如果发现技能加载后导致对话的 token 消耗激增，可能是因为指令过于冗长或辅助文件过多。这时需要考虑精简指令或拆分技能。
- **利用 Claude 自身反馈**：有时 Claude 会在对话中给出它认为当前请求更适合其他技能的提示。这种反馈非常有价值，可以帮助开发者了解技能描述或指令是否需要调整，以更好地匹配实际使用场景。

通过运用这些调试技巧，开发者可以更快地定位并解决技能中的问题，加速迭代过程。

### 4.5 权限与安全考量

在享受 Claude Skills 带来的便利时，开发者也应关注权限控制和安全风险，以避免意外后果。

- **最小权限原则**：为技能配置**最小必要权限**。Claude 默认会请求执行某些操作（如读取文件、运行脚本）的许可，开发者应根据技能实际需求授予权限。例如，如果技能不需要写入文件，就不要授予写入权限，以防止技能被误触发时意外修改文件。
- **避免危险操作**：在编写技能指令时，避免让 Claude 执行不可逆或危险的操作，除非有严格的检查和确认。例如，一个数据库迁移技能应包含备份步骤和验证步骤，而不是直接运行删除或更新命令。同样，避免让技能自动发送生产环境的关键请求，除非明确确认。
- **代码注入风险**：如果技能包含可执行代码（如 Python 脚本），确保代码来自可信来源并经过充分测试。恶意的代码脚本可能会被利用来破坏系统或窃取数据。Anthropic 建议将技能视为任何第三方代码一样对待，谨慎审查。
- **定期审计技能**：对于团队共享的技能，建议定期审计其内容和权限设置。随着项目环境变化，某些技能可能不再适用或权限设置不再合理，需要及时更新或禁用。

通过遵循这些安全原则，开发者可以在充分利用 Claude Skills 带来的生产力提升的同时，将潜在风险降到最低。

---

## 五、与其他工具的集成：Skills 的生态扩展

Claude Skills 并非孤立存在，它可以与 Claude 生态中的其他工具和框架协同工作，共同构建强大的 AI 开发环境。

### 5.1 Skills vs. 插件/MCP：职责划分与协同工作

Claude Code 中存在多种扩展 Claude 能力的方式，其中 **插件（Plugins）**、**模型上下文协议（MCP）**和 Skills 是三种主要形式。理解它们之间的区别有助于开发者选择合适的工具并实现协同。

**定义与职责**：

- **插件（Plugins）**：插件是第三方为 Claude Code 开发的扩展，通常以 ZIP 形式提供，包含特定的功能或服务集成。插件可以提供新的命令、与外部 API 交互的能力等，但其工作机制是固定的，用户需要显式地调用插件中的功能。
- **MCP（Model Context Protocol）**：MCP 是一种开放协议，定义了 Claude 如何以统一的方式与外部数据源和工具进行连接。通过 MCP，开发者可以连接 Claude 到本地数据库、远程 API、消息队列等，让 Claude 在需要时主动调用这些资源。MCP 更侧重于"连接什么"，即提供数据或工具的接口。
- **Skills**：Skills 侧重于"如何做"，即封装完成特定任务的流程、方法和相关知识。它教导 Claude 在需要时按照特定步骤去完成任务，而不涉及具体的工具或数据来源。

**协同工作**：

Skills 和 MCP 插件可以协同工作，形成**知识 + 执行**的闭环。Skills 提供流程规范和领域知识，MCP 提供实时数据或工具调用能力【3†source】。例如，一个"财务报告生成"技能可以定义报告的格式模板和数据汇总逻辑（MCP 提供从数据库获取最新财务数据的能力。当用户请求生成报告时，Claude 会按照技能的模板和流程，使用 MCP 提供的数据，自动产出报告。这种组合让 Claude 既知道**怎么做**，又能**拿到需要的数据**，完成端到端的任务自动化。

**选择建议**：

- **使用 Skills**：当任务是流程标准化、可重复，且主要涉及指导 Claude 如何组织和呈现信息时。例如代码审查、文档生成、报告撰写等，使用 Skills 可以固化最佳实践，提高输出一致性。
- **使用 MCP**：当任务需要 Claude 访问外部数据源或调用特定工具时。例如查询数据库、调用第三方 API、读取文件系统等，应使用 MCP 或插件来提供这些能力。
- **组合使用**：在复杂场景下，两者可以组合使用。例如，让 Claude 使用一个 MCP 服务器获取数据，然后使用一个 Skill 来处理和呈现这些数据，从而实现既丰富又高效的自动化。

### 5.2 与 Claude 生态工具的集成

除了与 MCP/插件协同，Claude Skills 还可以与 Claude 生态中的其他工具和框架集成，以扩展其应用场景。

- **Claude Code 命令行**：Claude Code 是 Anthropic 提供的命令行开发工具，Skills 是其核心能力之一。开发者可以在 Claude Code 中直接使用 Skills，享受命令行带来的高效和灵活。例如，通过在 `~/.claude/skills/` 放置技能，开发者在使用 Claude Code 时，无需任何额外配置，就能让 Claude 自动应用这些技能。Claude Code 也提供了丰富的命令（如 `/skills`、`/init` 等）来管理和使用技能。
- **Claude IDE 集成**：对于习惯在 IDE 中工作的开发者，Claude 已经与流行的集成开发环境（IDE）实现了集成。例如，Visual Studio Code（及基于它的衍生 IDE 如 Cursor、Windsurf）和 JetBrains 系列 IDE（PyCharm、WebStorm、IntelliJ 等）都有官方或社区提供的 Claude Code 插件。通过安装这些插件，开发者可以在 IDE 内部使用 Claude 的功能，包括 Skills。这意味着开发者可以在编码时直接让 Claude 应用相关技能，无需切换应用，大大提升了工作流效率。
- **Claude Desktop 应用**：Anthropic 也推出了 Claude 桌面应用，面向非编程用户或希望以更友好方式使用 Claude 的开发者。Claude Desktop 支持 Skills 功能，允许用户通过图形界面上传和使用技能，而无需接触命令行。这使得团队成员即使不熟悉技术细节，也能利用预先构建好的技能完成工作，例如使用"产品需求文档生成器"技能快速产出需求初稿。

通过这些集成，Claude Skills 成为整个 Claude 开发生态中的一环，开发者可以在任何使用 Claude 的场景中享受到技能带来的生产力提升。

### 5.3 社区与开源：Skills 生态的繁荣

Claude Skills 的一个魅力在于其开放性和社区参与。开发者不仅可以构建自己的技能，还可以从社区获取和贡献技能，共同推动这一生态的发展。

- **官方技能库**：Anthropic 在 GitHub 上开源了官方的 Agent Skills 知识库 [[anthropics/skills: Public repository for Agent Skills](https://github.com/anthropics/skills)]:"anthropic/skills"，为 Claude 的技能系统提供了示范性的技能与最佳实践。该仓库包含数十个公开示例技能，涵盖文档处理、创意设计、开发技术、企业沟通等多个领域。开发者可以浏览这些技能，获取灵感和参考，了解如何将复杂流程封装为技能。其中一些文档处理技能（如 docx、pdf 处理）已经在 Claude 的生产应用中实际使用，体现了这些技能的成熟度和可靠性。
- **社区贡献**：Claude Skills 生态已经吸引了大量开发者的参与。在 GitHub 等平台上，可以看到许多由社区维护的"Awesome Claude Skills"列表，汇总了各类有趣且实用的技能。开发者可以从中找到适合自己的技能，例如处理特定格式的文件、与流行工具集成的技能等。同时，开发者也可以将自己的技能贡献到这些社区，与同行分享经验，共同丰富 Claude 的能力库。
- **开源项目**：一些开源项目开始将 Claude Skills 集成到其工作流中。例如，有项目提供工具，将任何技能安装到全局或项目级的 skills 目录，并自动创建项目规则 Markdown 文件，"教会"其他 AI Agent 使用技能。这表明 Skills 不仅限于 Claude 自身，也可以成为更广泛 AI 应用的标准组件。

社区与开源的参与，使得 Claude Skills 成为一个不断演进的生态系统。开发者可以站在前人的肩膀上，快速获取强大的能力，同时通过贡献反馈和新技能，推动这一生态的繁荣。

[Anthropic Skills 项目全技能深度分析报告.md](Anthropic Skills 项目全技能深度分析报告.md)

---

## 六、总结：打造属于你的 Claude 专家

Claude Skills 代表了一种将通用 AI 转化为专用专家的新范式。通过模块化的技能包，开发者可以"教会"Claude 如何执行特定任务，从而在实际工作中获得巨大收益。

**回顾价值**：

- **效率提升**：Skills 将重复的流程自动化，让 Claude 以秒级速度完成过去需要数分钟甚至数小时的任务。无论是代码审查、文档生成还是报表制作，Skills 都能显著节省开发者时间，提高整体效率。
- **质量保证**：通过固化最佳实践，Skills 确保每次输出都符合团队标准，减少人为错误。团队输出的一致性也因此提高，新成员借助技能可以快速融入团队工作流。
- **知识沉淀**：Skills 是企业或个人知识的载体。开发者可以将自己的经验、团队的规范封装为技能，形成可复用的资产。这些资产不会随人员流动而流失，而是沉淀在 Claude 的"大脑"中，长期为团队服务。

**行动建议**：

对于已经在使用 Claude 的开发者，现在就是开始尝试 Skills 的最佳时机。不妨从最常重复的任务入手，将其固化为一个技能。例如，如果你每周都要写周报，就创建一个"周报生成器"技能；如果你经常审查代码，就打造一个代码审查技能。只需投入一次时间，就能在接下来的工作中持续受益。

在创建技能时，遵循本教程提供的步骤和技巧，确保技能结构良好、描述清晰、经过充分测试。同时，积极参与社区，获取灵感或贡献你的技能，让更多人受益。

总之，Claude Skills 赋予开发者塑造 Claude 能力的权力。通过精心设计和运用 Skills，你可以将 Claude 从一个通用的 AI 助手，升级为一个真正懂你、懂你工作的"专家"。这不仅能大幅提升个人效率，也可能成为团队和企业的宝贵资产。现在就开始动手，打造属于你的 Claude 专家吧！